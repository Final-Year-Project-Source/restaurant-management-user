(()=>{var e={};e.id=752,e.ids=[752],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},71017:e=>{"use strict";e.exports=require("path")},57310:e=>{"use strict";e.exports=require("url")},72594:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>d,routeModule:()=>x,tree:()=>c});var r=s(50482),a=s(69108),n=s(62563),i=s.n(n),o=s(68300),l={};for(let e in o)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>o[e]);s.d(t,l);let c=["",{children:["product",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,14296)),"/Users/nguyenthithaovy/Study/Final-Year-Project/restaurant-management-user/src/app/product/page.tsx"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(s.bind(s,32396)),"/Users/nguyenthithaovy/Study/Final-Year-Project/restaurant-management-user/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.bind(s,48206)),"/Users/nguyenthithaovy/Study/Final-Year-Project/restaurant-management-user/src/app/not-found.tsx"],metadata:{icon:[async e=>(await Promise.resolve().then(s.bind(s,73881))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],d=["/Users/nguyenthithaovy/Study/Final-Year-Project/restaurant-management-user/src/app/product/page.tsx"],u="/product/page",p={require:s,loadChunk:()=>Promise.resolve()},x=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/product/page",pathname:"/product",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},18806:(e,t,s)=>{Promise.resolve().then(s.bind(s,44757))},44757:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>_});var r=s(95344),a=s(17732),n=s(25539),i=s(22254),o=s(3729),l=s(67523),c=s(85787),d=s(47307),u=s(35479),p=s(49246);let x=({children:e,disabledSecondary:t,onClickSecondaryBtn:s,secondaryBtnChildren:a,onClickPrimaryBtn:n,primaryBtnChildren:x,isShowPrimaryButton:m,onClickBackBtn:h})=>{let g=(0,o.useRef)(null),{scrollBottom:f}=(0,c.I)(g);(0,i.useRouter)();let{height:v}=(0,d.d)();return(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("div",{className:"flex w-full pt-[22px] px-4 fixed z-10 justify-between",children:r.jsx(l.hU,{icon:r.jsx(u.Y4,{}),onClick:h})}),r.jsx("div",{ref:g,className:"h-screen overflow-y-auto max-h-screen-85",children:e}),r.jsx(p.Z,{className:f-30>0?"shadow-medium-top":"",disabledSecondary:t,isShowPrimaryButton:m,onClickPrimaryBtn:n,primaryBtnChildren:x,onClickSecondaryBtn:s,secondaryBtnChildren:a})]})};var m=s(41223),h=s.n(m),g=s(67113),f=s(36013),v=s(82018),y=s(6650),b=s(9249),j=s.n(b),N=s(54598);s(75073);var k=s(88914),P=s(75992),S=s(73593),C=s(33401);let _=()=>{let e=(0,i.useRouter)(),t=(0,i.useSearchParams)(),[s,l]=(0,o.useState)(""),[c,u]=(0,o.useState)([]),[p,m]=(0,o.useState)([]),{isMobile:b}=(0,d.d)(),[_,w]=(0,o.useState)(0),$=t.get("id"),{data:B,isFetching:q}=(0,k.$d)({id:$||""},{skip:!$}),R=(0,o.useMemo)(()=>B?.data,[B]),I=t.get("bill_id"),Z=(0,f.v9)(e=>e.tableReducer.tableId),{data:M}=(0,P.fq)({id:Z},{skip:!Z}),H=M?.data,{data:E}=(0,S.$r)({id:H?.discount},{skip:!H?.discount}),A=E?.data,T=(0,o.useMemo)(()=>R?.price||0,[R,A]),[z,G]=(0,o.useState)(!0),{image_url:F,name:U,description:Y,dietary_restrictions:W,modifier_ids:L,modifiers_info:D}=R||{},[O,V]=(0,o.useState)("/assets/images/product-default.png"),X=(0,f.I0)();(0,o.useEffect)(()=>{G(!!F),F&&V(F)},[F]);let[J,K]=(0,o.useState)({}),Q=(0,o.useCallback)((e,t)=>{K(s=>({...s,[t]:e}))},[]),ee=(0,o.useMemo)(()=>D?.flatMap(e=>{let t=J[e.name];return t?e.modifier_options.filter(e=>t.includes(e.name)):[]}),[J,D]),et=(0,o.useMemo)(()=>ee?.reduce((e,t)=>e+(+t?.price||0),0),[ee,A]);(0,o.useEffect)(()=>{w(+T+ +et||0),u(ee)},[T,et,ee]);let es=(0,r.jsxs)("div",{children:[r.jsx("span",{children:"Add to basket"})," ",(0,r.jsxs)("span",{className:"font-normal",children:["ãƒ» ",(0,y.T4)(_)]})]});return r.jsx(x,{secondaryBtnChildren:es,onClickBackBtn:()=>{e.push(I?`/menu?bill_id=${I}`:"/menu")},onClickSecondaryBtn:()=>{let t={product:R,notes:s.trim(),modifiers:c,dietary_restrictions:p};X((0,v.Wf)({...t,quantity:1,operator:g.Nv.ADD})),e.push(I?`/menu?bill_id=${I}`:"/menu")},disabledSecondary:q||!R,children:(0,r.jsxs)("div",{className:"relative h-full",children:[(0,r.jsxs)("div",{className:"h-[200px] header-background",children:[F&&r.jsx(h(),{className:`absolute ${b?"top-[70px]":"top-[50px]"} right-1/2 transform translate-x-1/2 rounded-full shadow-2xl`,src:O,alt:"product",width:b?200:260,height:260,loading:"lazy",onLoad:()=>G(!1),onError:()=>{V("/assets/images/product-default.png"),G(!1)}}),(z||q)&&r.jsx(N.Z.Avatar,{className:"absolute top-[24px] right-1/2 transform translate-x-1/2",size:273,active:!0,style:{backgroundColor:"#e5e5e5"}})]}),q?r.jsx(N.Z,{className:"product-skeleton-paragraph px-6 pt-[88px] pb-[30px]",active:!0,paragraph:{rows:3}}):(0,r.jsxs)("div",{className:"flex flex-col px-6 pt-[88px] pb-[30px] text-black-500 space-y-[29px]",children:[(0,r.jsxs)("div",{className:"flex flex-col space-y-[15px]",children:[r.jsx("span",{className:"text-2xl font-medium",children:U}),r.jsx("span",{className:`text-sm font-normal ${j().className}`,dangerouslySetInnerHTML:{__html:Y||""}}),r.jsx("div",{className:"flex space-x-[9px] items-start",children:Array.isArray(W)&&W.map((e,t)=>r.jsx(n.Z,{iconName:e},t))})]}),L?.length>0&&D?.map(e=>{let t=(e?.modifier_options||[]).filter(Boolean).sort((e,t)=>(e.position||0)-(t.position||0))||[];return{id:e._id,nameGroup:e?.name,options:t.map(e=>({label:e.name||"",price:e.price>0?e.price.toString():""}))}})?.map((e,t)=>r.jsx(a.Z,{groupName:e.nameGroup??"",options:e.options??[],onChange:Q},t)),y.Bg(R?.dietary_restrictions||[])?.length>0&&r.jsx(a.Z,{groupName:"Dietary requests",options:y.Bg(R?.dietary_restrictions||[])?.map(e=>({label:"Make it "+e}))??[],onChange:e=>{m(e)}}),(0,r.jsxs)("div",{className:"flex flex-col space-y-2.5",children:[r.jsx("span",{className:"font-medium text-sm text-black-400",children:"Notes"}),r.jsx(C.Z,{valuePlaceholder:"Notes for the kitchen",onChange:e=>{l(e.target.value)}})]})]})]})})}},25539:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(95344),a=s(41223),n=s.n(a);s(3729);let i=({iconName:e})=>{let t="",s=!1;switch(e.toLowerCase()){case"vegan":t="assets/icons/dietaryRestrictionIcons/vegan.svg";break;case"vegan option":t="assets/icons/dietaryRestrictionIcons/vegan-option.svg",s=!0;break;case"vegetarian":t="assets/icons/dietaryRestrictionIcons/vegetarian.svg";break;case"vegetarian option":t="assets/icons/dietaryRestrictionIcons/vegetarian-option.svg",s=!0;break;case"diary-free":t="assets/icons/dietaryRestrictionIcons/diary-free.svg";break;case"diary-free option":t="assets/icons/dietaryRestrictionIcons/diary-free-option.svg",s=!0;break;case"gluten-free":t="assets/icons/dietaryRestrictionIcons/gluten-free.svg";break;case"gluten-free option":t="assets/icons/dietaryRestrictionIcons/gluten-free-option.svg",s=!0;break;default:return null}return r.jsx(n(),{priority:!0,src:t,alt:e,width:19,height:s?26:19})}},17732:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var r=s(95344);s(3729),s(82919);var a=s(98251),n=s(73762),i=s(25539),o=s(9249),l=s.n(o);let c=({value:e,icon:t,price:s})=>r.jsx(a.ZP,{theme:{token:{colorPrimaryActive:"#131C16",colorPrimary:"#131C16",colorPrimaryHover:"#131C16",colorBorder:"RGBA(19, 28, 22, 0.2)",controlInteractiveSize:20,colorBgContainer:"transparent"}},children:r.jsx("div",{className:"flex items-center",children:r.jsx(n.Z,{value:e,children:r.jsx("div",{className:"flex justify-between text-black-500 ml-[3px]",children:(0,r.jsxs)("div",{className:"flex items-center",children:[t&&r.jsx("div",{className:"mr-[8px]",children:r.jsx(i.Z,{iconName:t})}),r.jsx("div",{className:`text-[18px] ${l().className}`,children:`${e}`})]})})})})});var d=s(6650);let u=({discount:e,groupName:t,options:s,onChange:a,defaultValue:i})=>(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-[18px] font-medium mb-[11px] text-black-400",children:t}),r.jsx(n.Z.Group,{defaultValue:i,className:"flex flex-col w-full",onChange:e=>{a(e,t)},children:r.jsx("div",{className:"flex flex-col space-y-[10px]",children:s?.map((s,a)=>r.jsxs("div",{className:"flex justify-between items-center text-black-500 w-full",children:[r.jsx(c,{value:s.label,icon:s?.icon?.toLowerCase(),price:s.price}),s.price&&r.jsxs("label",{className:`text-[18px] ${l().className}`,htmlFor:`${t}-${a}`,children:[" ","+ ",e?.type==="FIXED_PERCENT"&&r.jsxs("span",{className:"line-through",children:[" ",s.price]}),` ${d.T4(s.price)} vnd`]})]},a))})})]})},85787:(e,t,s)=>{"use strict";s.d(t,{I:()=>a});var r=s(3729);function a(e){let[t,s]=(0,r.useState)(!1),[a,n]=(0,r.useState)(!1),[i,o]=(0,r.useState)(0),[l,c]=(0,r.useState)(0),d=(0,r.useCallback)(()=>{let t=e?.current;t&&(s(t.scrollHeight>t.clientHeight),n(t.scrollWidth>t.clientWidth),o(t.scrollTop),c(t.scrollHeight-t.offsetHeight-t.scrollTop))},[e?.current]);return(0,r.useEffect)(()=>{},[!1,d,e?.current]),(0,r.useCallback)(()=>{let t=e?.current;t&&(o(t.scrollTop),c(t.scrollHeight-t.offsetHeight-t.scrollTop))},[e?.current]),(0,r.useEffect)(()=>{e?.current},[!1,d,e?.current]),{isVerticalScroll:t,isHorizontalScroll:a,scrollTop:i,scrollBottom:l}}},47307:(e,t,s)=>{"use strict";s.d(t,{d:()=>a});var r=s(3729);function a(){let e=()=>{let{innerWidth:e,innerHeight:t}={innerWidth:0,innerHeight:0};return{width:e,height:t,isMobile:e<768}},[t,s]=(0,r.useState)(e()),a=(0,r.useCallback)(()=>{s(e())},[]);return(0,r.useEffect)(()=>{},[!1,a]),t}},33401:(e,t,s)=>{"use strict";s.d(t,{Z:()=>d});var r=s(95344),a=s(3729),n=s(28646),i=s(98251),o=s(9249),l=s.n(o);s(42617);let{TextArea:c}=n.default,d=({valueInput:e,required:t,valuePlaceholder:s,onChange:n,disabled:o,value:d,...u})=>{let[p,x]=(0,a.useState)(e);return r.jsx(r.Fragment,{children:r.jsx(i.ZP,{theme:{components:{Input:{paddingInline:15,paddingBlock:10}},token:{lineHeight:1.5,colorText:"#131C16",fontFamily:`${l()}, sans-serif`,fontSize:14,colorBgContainer:"transparent",colorBorder:"rgba(19, 28, 22, 0.2)",colorPrimary:"transparent",colorPrimaryHover:"transparent",colorPrimaryActive:"transparent",colorTextPlaceholder:"rgba(0, 0, 0, 0.50)",borderRadius:16}},children:r.jsx(c,{className:l().className,value:d||p,required:t,onChange:e=>{x(e.target.value),n&&n(e)},placeholder:s,autoSize:{minRows:3,maxRows:3.1},disabled:o})})})}},49246:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(95344),a=s(67523);let n=({isShowPrimaryButton:e=!1,primaryBtnChildren:t,secondaryBtnChildren:s,disabledPrimary:n,disabledSecondary:i,onClickPrimaryBtn:o,onClickSecondaryBtn:l,isTextRequestTaxInvoice:c,className:d})=>(0,r.jsxs)("div",{className:`${d||""} w-full fixed flex flex-col space-y-3 bottom-0 bg-grey-100 px-6 py-3 z-999`,children:[c&&r.jsx("div",{className:"text-[18px] text-black-500 text-center mb-2",children:"Once you request the tax invoice, a member of our staff will print it off, sign, and hand it to you."}),e&&r.jsx(a.zx,{variant:"primary",disabled:n,onClick:o,children:t}),r.jsx(a.zx,{variant:"secondary",disabled:i,onClick:l,children:s})]})},6650:(e,t,s)=>{"use strict";s.d(t,{Bg:()=>n,Pb:()=>d,T4:()=>p,Y0:()=>l,oH:()=>o,r$:()=>c,vV:()=>u,xz:()=>i}),s(67113);var r=s(59828),a=s.n(r);let n=e=>a()(e?.filter(e=>e.endsWith("option")).map(e=>e=e.replace(" option",""))||[]),i=e=>e?`${e.getHours()}:${10>e.getMinutes()?"0":""}${e.getMinutes()}`:"",o=e=>""===e.trim()||/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),l=e=>""===e.trim()||/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(e),c=e=>/^(\d[- ]?){12}\d$/.test(e),d=e=>""!==e.trim(),u=e=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e),p=e=>e?Math.round(Number(e)).toLocaleString("en-US").replace(/,/g,"."):"0"},14296:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>n,__esModule:()=>a,default:()=>i});let r=(0,s(86843).createProxy)(String.raw`/Users/nguyenthithaovy/Study/Final-Year-Project/restaurant-management-user/src/app/product/page.tsx`),{__esModule:a,$$typeof:n}=r,i=r.default},75073:()=>{},82919:()=>{},42617:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[638,289,363,264,646,223,515,762,118,479],()=>s(72594));module.exports=r})();